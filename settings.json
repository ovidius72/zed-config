// Zed settings
//
// For information on how to configure Zed, see the Zed
// documentation: https://zed.dev/docs/configuring-zed
//
// To see all of Zed's default settings without changing your
// custom settings, run the `open default settings` command
// from the command palette or from `Zed` application menu.
{
  "context_servers": {
    "mcp-server-sonarqube": {
      "source": "extension",
      "enabled": true,
      "settings": {
        "sonarqube_token": "YOUR_SONARQUBE_USER_TOKEN",
        "sonarqube_url": "YOUR_SONARQUBE_SERVER_URL",
        "sonarqube_org": "SONARQUBE_ORGANIZATION_KEY",
        "docker_path": "/usr/bin/docker"
      }
    }
  },
  "auto_install_extensions": {
    "enabled": true,
    "env": true,
    "graphql": true,
    "log": true,
    "nginx": true,
    "rainbow-csv": true,
    "markdown-oxide": false,
    "emmet": true,
    "docker-emme": true,
    "docker-compose": true,
    "dockerfile": true,
    "html": true,
    "toml": true,
    "make": true,
    "nightfox": true,
    "catppuccin": true,
    "catppuccin-icons": true,
    "cargo-tom": true
  },
  "toolbar": {
    "code_actions": false,
    "breadcrumbs": true,
    "quick_actions": true
  },
  "inline_code_actions": true,
  "gutter": {
    "folds": true
  },
  "theme": "Catppuccin Mocha",
  "search_wrap": true,
  "use_smartcase_search": false,
  "file_types": {
    "env": [".env", ".env*"]
  },
  "dev": {
    "lsp_document_colors": "inlay"
  },
  // "lsp_document_colors": "inlay",
  "debugger": {
    "dock": "bottom",
    "save_breakpoints": true,
    "stepping_granularity": "line",
    "button": true
  },

  "bottom_dock_layout": "contained",
  "edit_predictions": {
    "disabled_globs": [],
    "mode": "subtle",
    "copilot": {
      "proxy": null,
      "proxy_no_verify": null
    },
    "enabled_in_text_threads": false
  },
  "hide_mouse": "on_typing_and_movement",
  "icon_theme": {
    "mode": "dark",
    "dark": "Catppuccin Mocha",
    "light": "Catppuccin Latte"
  },
  "outline_panel": {
    "auto_reveal_entries": true,
    "file_icons": true,
    "folder_icons": true,
    "git_status": true,
    "dock": "right"
  },
  "show_completion_documentation": false,
  "show_completions_on_input": true,
  "completions": {
    "words": "fallback"
  },
  "wrap_guides": [80],
  "ui_font_features": { "calt": true },
  "auto_signature_help": false,
  "file_finder": {
    "file_icons": true,
    "git_status": true,
    // "skip_focus_for_active_in_search": true,
    "modal_max_width": "small"
  },
  "language_models": {
    "ollama": {
      "api_url": "http://localhost:11434"
    }
  },
  "remove_trailing_whitespace_on_save": false,
  "session": {
    "restore_unsaved_buffers": true
  },
  "tab_bar": {
    "show": true,
    "show_tab_bar_buttons": true,
    "show_nav_history_buttons": true
  },
  "cursor_shape": "hollow",
  "indent_guides": {
    "background_coloring": "indent_aware",
    "active_line_width": 4,
    "coloring": "indent_aware",
    "line_width": 3
  },
  "auto_indent_on_paste": true,
  "command_aliases": {},
  "tabs": {
    "file_icons": true,
    "show_diagnostics": "errors",
    "show_close_button": "always",
    "git_status": true,
    "close_position": "left"
  },
  // "preview_tabs": { "enable_preview_from_code_navigation": true },
  "seed_search_query_from_cursor": "always",
  "show_signature_help_after_edits": false,
  "use_auto_surround": true,
  "use_autoclose": true,
  "show_edit_predictions": false,
  "show_wrap_guides": true,
  "show_call_status_icon": true,
  "current_line_highlight": "line",
  "cursor_blink": true,
  "always_treat_brackets_as_autoclosed": true,
  "features": {
    "edit_prediction_provider": "copilot"
  },
  "ui_font_family": "Maple Mono NF",
  "ui_font_size": 16,
  "buffer_font_family": "Maple Mono NF",
  // "buffer_font_features": {
  //   "calt": true
  // },
  "confirm_quit": true,
  "auto_update": true,
  "code_actions_on_format": {
    "source.organizeImports": true
  },
  "minimap": { "show": "never" },
  "terminal": {
    "font_family": "Maple Mono NF",
    "dock": "bottom",
    "working_directory": "current_project_directory",
    "copy_on_select": true,
    "cursor_shape": "block",
    "line_height": "standard"
  },
  "telemetry": {
    "diagnostics": false,
    "metrics": false
  },
  "diagnostics": {
    "include_warnings": true,
    "inline": {
      "enabled": false,
      "update_debounce_ms": 150,
      "padding": 4,
      "min_column": 0,
      "max_severity": null
    }
  },
  "experimental.theme_overrides": {
    "syntax": {
      "keyword": {
        "font_style": "italic"
      },
      "comment": {
        "font_style": "italic"
      }
    }
  },
  "vim_mode": true,
  "vim": {
    // "highlight_on_yank_duration": 200,
    "toggle_relative_line_numbers": true,
    "use_smartcase_find": true,
    "use_system_clipboard": "never",
    "cursor_shape": {
      "normal": "hollow",
      "insert": "bar",
      "replace": "block",
      "visual": "bar"
    }
  },
  "relative_line_numbers": true,
  "buffer_font_size": 16.0,
  "git": {
    "gutter_debounce": 200,
    "hunk_style": "staged_hollow",
    "git_gutter": "tracked_files",
    "inline_blame": {
      "show_commit_summary": true,
      "enabled": true,
      "delay_ms": 500
    }
  },
  "show_whitespaces": "trailing",
  // "scrollbar": {
  // "show": "never"
  // },
  "tab_size": 2,
  "agent": {
    "always_allow_tool_actions": true,
    "inline_assistant_model": {
      "provider": "ollama",
      "model": "deepseek-coder:6.7b"
    },
    // "provider": {
    "default_model": {
      "provider": "ollama",
      // "model": "qwen2.5-coder:32b"
      "model": "gpt-oss:20b"
    }
  },
  "project_panel": {
    "hide_gitignore": false,
    "auto_fold_dirs": false,
    "auto_reveal_entries": true,
    "show_diagnostics": "all",
    "file_icons": true,
    "git_status": true,
    "sticky_scroll": true,
    "scrollbar": {
      "show": "always"
    },
    "indent_size": 18,
    "indent_guides": {
      "show": "always"
    }
  },
  "formatter": "auto",
  // "formatter": {
  //   "external": {
  //     "arguments": ["--stdin-filepath", "{buffer_path}"],
  //     "command": "./node_modules/.bin/prettier"
  //   }
  // },
  "inlay_hints": {
    "enabled": false,
    "show_other_hints": true,
    "show_parameter_hints": true,
    "show_type_hints": true
  },
  "journal": {
    "path": "/Users/antonio/Library/CloudStorage/Dropbox/zed-journal",
    "hour_format": "hour24"
  },
  // "copilot": {
  //   "enabled": true
  // },
  "languages": {
    "TSX": {
      // "language_servers": ["typescript-language-server", "!vtsls", "..."],
      "formatter": [],
      "code_actions_on_format": {
        "source.organizeImports": true
      },
      "format_on_save": "on"
    },
    "TypeScript": {
      "formatter": [],
      "code_actions_on_format": {
        "source.organizeImports": true
      },
      "format_on_save": "on"
    },
    "JavaScript": {
      "code_actions_on_format": {
        "source.organizeImports": true
      }
      // "formatter": {
      //   "external": {
      //     "command": "prettier",
      //     "arguments": ["--stdin-filepath", "{buffer_path}"]
      //   }
      // }
    }
  },
  "snippet_sort_order": "inline",
  "hover_popover_delay": 600,
  "lsp": {
    "codeblock": {
      "initialization_options": {
        "logLevel": "info",
        "dictionaries": ["en_us", "it"]
      },
      "settings": {
        "dictionaries": ["en_us", "it"]
      }
    },
    "tailwindcss-language-server": {
      "settings": {
        "classFunctions": ["cva", "cx"],
        "experimental": {
          "classRegex": ["[cls|className]\\s\\:\\=\\s\"([^\"]*)"]
        }
      }
    },
    "rust-analyzer": {
      "initialization_options": {
        // "inlayHints": {
        //   "expressionAdjustmentHints": { "enable": "reborrow" }
        // },
        "completion": {
          "snippets": {
            "custom": {
              "Arc::new": {
                "postfix": "arc",
                "body": ["Arc::new(${receiver})"],
                "requires": "std::sync::Arc",
                "scope": "expr"
              },
              "Some": {
                "postfix": "some",
                "body": ["Some(${receiver})"],
                "scope": "expr"
              },
              "Ok": {
                "postfix": "ok",
                "body": ["Ok(${receiver})"],
                "scope": "expr"
              },
              "Rc::new": {
                "postfix": "rc",
                "body": ["Rc::new(${receiver})"],
                "requires": "std::rc::Rc",
                "scope": "expr"
              },
              "Box::pin": {
                "postfix": "boxpin",
                "body": ["Box::pin(${receiver})"],
                "requires": "std::boxed::Box",
                "scope": "expr"
              },
              "vec!": {
                "postfix": "vec",
                "body": ["vec![${receiver}]"],
                "description": "vec![]",
                "scope": "expr"
              }
            }
          }
        },
        "diagnostics": {
          "experimental": {
            "enable": true
          }
        }
      }
    },
    "scls": {
      "enable_lsp_tasks": true,
      // simple completion language server.
      "initialization_options": {
        "max_completion_items": 6, // set max completion results len for each group: words, snippets, unicode-input
        "feature_words": true, // enable completion by word
        "feature_unicode_input": true, // enable "unicode input"
        "snippets_first": true, // completions will return before snippets by default
        "feature_snippets": true, // enable snippets
        "feature_paths": true // enable path completion
      }
    },
    "eslint": {
      "settings": {
        "codeActionOnSave": {
          "rules": ["import/order"]
        }
      }
    },
    "biome": {
      "settings": {
        "require_config_file": true,
        "linter": {
          "rules": {
            "complexity": {
              "noForEach": "error"
            }
          }
        }
      }
    },
    "typescript-language-server": {
      "initialization_options": {
        "preferences": {
          "includeinlayparameternamehints": "all",
          "includeinlayparameternamehintswhenargumentmatchesname": true,
          "includeinlayfunctionparametertypehints": true,
          "includeinlayvariabletypehints": true,
          "includeinlayvariabletypehintswhentypematchesname": false,
          "includeinlaypropertydeclarationtypehints": true,
          "includeinlayfunctionlikereturntypehints": true,
          "includeinlayenummembervaluehints": true
        }
      }
    },
    "vtsls": {
      "settings": {
        "typescript": { "tsserver": { "maxTsServerMemory": 16184 } }
      }
    }
  },
  "active_pane_modifiers": {
    "border_size": 1
  },
  "git_panel": {
    "button": true,
    "dock": "right"
  }
}
